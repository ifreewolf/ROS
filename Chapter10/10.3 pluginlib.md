# 10.3 pluginlib

<B>pluginlib</B>直译是插件库，所谓插件字面意思就是可插拔的组件，比如：以计算机为例，可以通过USB接口自由拔插的键盘、鼠标、U盘...都可以看作是插件实现，其基本原理就是通过规范化的USB接口协议实现计算机与USB设备的自由组合。同理，在软件编程中，插件是一种遵循一定规范的应用程序接口编写出来的程序，插件程序依赖于某个应用程序，且应用程序可以与不同的插件程序自由组合。在ROS中，也会经常使用到插件，场景如下：

> 1. 导航插件：在导航中，涉及到路径规划模块，路径规划算法有多种，也可以自实现，导航应用时，可能需要测试不同算法的优劣以选择更合适的实现，这种场景下，ROS中就是通过插件的方式来实现不同算法的灵活切换。
>
> 2. rviz插件：在rviz中已经提供了丰富的功能实现，但是即便如此，特定场景下，开发者可能需要实现某些定制化功能并集成到rviz中，这一集成过程也是基于插件的。

---

<B>概念</B>

<B>pluginlib</B>是一个c++库，用来从一个ROS功能包中加载和卸载插件(plugin)。插件是从运行时库中动态加载的类。通过使用Pluginlib，不必将某个应用程序显式地链接到包含某个类的库，Pluginlib可以随时打开包含类的库，而不需要应用程序事先知道包含类定义的库或者头文件。

<B>作用</B>

- 结构清晰；
- 低耦合，易修改，可维护性强；
- 可移植性强，更具重复性；
- 结构容易调整，插件可以自由增减。

---

<B>另请参考:</B>

- http://wiki.ros.org/pluginlib

- http://wiki.ros.org/pluginlib/Tutorials/Writing%20and%20Using%20a%20Simple%20Plugin


## 10.3.1 pluginlib使用

<B>需求：</B>

以插件的方式实现正多边形的相关计算。

<B>实现流程：</B>

1. 准备；

2. 创建基类；

3. 创建插件类；

4. 注册插件；

5. 构建插件库；

6. 使用插件可用于ROS工具链；
- 配置xml
- 导出插件

7. 使用插件；

8. 执行。

---